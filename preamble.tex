% explicitly call these packages to avoid this issue:
% https://stackoverflow.com/questions/46080853/why-does-rendering-a-pdf-from-rmarkdown-require-closing-rstudio-between-renders?
% utm_medium=organic&utm_source=google_rich_qa&utm_campaign=google_rich_qa
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{array}
\usepackage{multirow}
\usepackage{color}          % enables font colors
\usepackage[table]{xcolor}  % enables even more font and background colors
\usepackage{wrapfig}
\usepackage{float}
\usepackage{colortbl}
\usepackage{pdflscape}
\usepackage{tabu}
\usepackage{threeparttable}
\usepackage[normalem]{ulem}

% set font encoding for PDFLaTeX or XeLaTeX
\usepackage[utf8]{inputenc}   % sets document encoding to utf8
\usepackage[default]{roboto}    % sets default font to Lato
\usepackage[T1]{fontenc}
\usepackage{tikz}
\usetikzlibrary{calc}
\usepackage{memhfixc}
\usepackage{amssymb}          % for itemized list styles

% document setup
\definecolor{aapidata_organge}{HTML}{E9797E}    % defines the Urban Institute blue color
\usepackage{enumitem}                   % bullet alignment
\setlist[2]{nosep}                      % sets the itemsep and parsep for all level two lists to 0
\setenumerate{nosep}                    % sets no itemsep for enumerate lists only
\pagenumbering{gobble}                  % disable page numbering
\usepackage[hang,flushmargin]{footmisc} % don't indent footnotes
\usepackage[document]{ragged2e}         % ragged right
\usepackage[none]{hyphenat}             % disable work breaks
\renewcommand\thefootnote{\textcolor{aapidata_organge}{\arabic{footnote}}} % change the color of the footnote indicator
\hypersetup{
  colorlinks,
  linkcolor=aapidata_organge,
  urlcolor=aapidata_organge,
}
\usepackage{parskip}
\setlength{\parskip}{0.1in}               % set paragraph spacing


% contact information
\newcommand{\contactinfo}[0]{
  \thispagestyle{empty}
  \begin{tikzpicture}[remember picture, overlay]
    \draw 
      node[anchor=south west, minimum height=0.5in, minimum width=8.5in, text width=8in] at ($(current page.south west) + (0.75in,0.13in)$) 
      {\color{gray}AAPI DATA \space
      \color{aapidata_organge}$\blacksquare$ \space
      \color{gray}900 University Ave \space
      \color{aapidata_organge}$\blacksquare$ \space
      \color{gray}Riverside, CA \space
      \color{aapidata_organge}$\blacksquare$ \space
      \textcolor{aapidata_organge}{www.aapidata.com}};
  \end{tikzpicture}
}

% titles (14pt font)
\newcommand{\urbntitle}[1]{
  \begin{center}
      \textbf{\LARGE{#1}}
  \end{center}
}
  
% subtitles (12pt font)
\newcommand{\urbnsubtitle}[1]{
  \begin{center}
    \Large{\textcolor{aapidata_organge}{#1}}
    \vspace{0.25in}    
  \end{center}
}

% authors (11pt font)
\newcommand{\urbnauthors}[1]{
  \begin{center}
    \textit{\large{#1}}
    \vspace{0.25in} 
  \end{center}
}

% heading 1
\newcommand{\urbnheadingone}[1]{
  \textbf{\LARGE{\\} \large{#1}}
}

% heading 2
\newcommand{\urbnheadingtwo}[1]{
  \textbf{\textcolor{aapidata_organge}{#1}}
}

% figure label
\newcommand{\urbnfigurenumber}[1]{
  \textcolor{aapidata_organge}{\tiny{\\} \normalsize{FIGURE #1 \\}}
}

% figure title
\newcommand{\urbnfiguretitle}[1]{
  \textbf{\normalsize{#1} \\}
}

% figure source
\newcommand{\urbnsource}[1]{
  \textbf{\footnotesize{#1}} \break
}

% figure note
\newcommand{\urbnnote}[1]{
  \textbf{\footnotesize{#1}} \break
}

% bullet points
\renewcommand{\labelitemi}{\color{aapidata_organge}\tiny$\blacksquare$}   % blue square
\renewcommand{\labelitemii}{\color{aapidata_organge}\tiny$\blacksquare$}  % blue square
\renewcommand{\labelitemiii}{\color{aapidata_organge}\tiny$\blacksquare$} % blue square
\renewcommand{\labelitemiv}{\color{aapidata_organge}\tiny$\blacksquare$}  % blue square




% redefinition of \texttt
\let\Oldtexttt\texttt
\renewcommand\texttt[1]{{\ttfamily\color{aapidata_organge}#1}}


% boiler plate
\newcommand{\urbnboilerplate}[3]{
  \thispagestyle{empty}
  
  \begin{tikzpicture}[remember picture, overlay]
    % horizontal line
    \draw (current page.south west) + (1in,1.25in) -- ($(current page.south east) + (-1in, 1.25in)$);  
    % boilerplat language
    \draw 
      node[align=left, anchor=south west, minimum height=0.5in, minimum width=8.5in, text width=6.5in] at ($(current page.south west) + (0in,0.38in)$) 
      {
      \small{This fact sheet was funded by #1. The views expressed are those of the author/authors and should not be attributed to the Urban Institute, its trustees, or its funders. Further information on the Urban Institute’s funding principles is available at \href{https://www.urban.org/aboutus/our-funding/funding-principles}{urban.org/fundingprinciples.}
      
      
      Copyright © #2 #3. Urban Institute. Permission is granted for reproduction of this file, with attribution to the Urban Institute.}
      };
      \end{tikzpicture}
}

